import{j as e}from"./jsx-runtime.CyXy1Ci3.js";import{r as t}from"./index.CaZlGE7t.js";/* empty css                                 */function g({companyId:d}){const[a,c]=t.useState(1),[i,h]=t.useState("cash"),[l,u]=t.useState(""),[r,x]=t.useState(""),[n,o]=t.useState(null),m="http://localhost:8787";async function j(){try{const p=await(await fetch(`${m}/api/ledger/${d}/reconcile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:i,statement:{date:l,endingBalance:parseFloat(r)}})})).json();o(p),c(3)}catch(s){console.error("Reconciliation failed:",s)}}return e.jsxs("div",{className:"reconciliation-wizard",children:[e.jsxs("div",{className:"wizard-steps",children:[e.jsx("div",{className:`step ${a>=1?"active":""}`,children:"1. Select Account"}),e.jsx("div",{className:`step ${a>=2?"active":""}`,children:"2. Enter Statement"}),e.jsx("div",{className:`step ${a>=3?"active":""}`,children:"3. Review"})]}),a===1&&e.jsxs("div",{className:"wizard-content",children:[e.jsx("h3",{children:"Select Account to Reconcile"}),e.jsxs("select",{value:i,onChange:s=>h(s.target.value),className:"account-select",children:[e.jsx("option",{value:"cash",children:"Cash - Checking Account"}),e.jsx("option",{value:"savings",children:"Cash - Savings Account"}),e.jsx("option",{value:"credit-card",children:"Credit Card"})]}),e.jsx("button",{onClick:()=>c(2),className:"btn-primary",children:"Next"})]}),a===2&&e.jsxs("div",{className:"wizard-content",children:[e.jsx("h3",{children:"Enter Bank Statement Details"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Statement Date"}),e.jsx("input",{type:"date",value:l,onChange:s=>u(s.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Ending Balance"}),e.jsx("input",{type:"number",step:"0.01",value:r,onChange:s=>x(s.target.value),placeholder:"0.00"})]}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{onClick:()=>c(1),className:"btn-secondary",children:"Back"}),e.jsx("button",{onClick:j,className:"btn-primary",children:"Reconcile"})]})]}),a===3&&n&&e.jsxs("div",{className:"wizard-content",children:[e.jsx("h3",{children:"Reconciliation Results"}),e.jsxs("div",{className:"reconciliation-results",children:[e.jsxs("div",{className:"result-row",children:[e.jsx("span",{children:"Book Balance:"}),e.jsxs("span",{children:["$",n.bookBalance.toFixed(2)]})]}),e.jsxs("div",{className:"result-row",children:[e.jsx("span",{children:"Statement Balance:"}),e.jsxs("span",{children:["$",n.statementBalance.toFixed(2)]})]}),e.jsxs("div",{className:"result-row",children:[e.jsx("span",{children:"Difference:"}),e.jsxs("span",{className:n.difference===0?"balanced":"unbalanced",children:["$",Math.abs(n.difference).toFixed(2)]})]}),e.jsx("div",{className:"reconciliation-status",children:n.reconciled?e.jsx("div",{className:"status-success",children:"✓ Account Reconciled"}):e.jsx("div",{className:"status-warning",children:"⚠ Difference found - please review transactions"})})]}),e.jsx("button",{onClick:()=>{c(1),o(null)},className:"btn-primary",children:"Start New Reconciliation"})]})]})}export{g as default};
