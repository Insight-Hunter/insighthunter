---
import Layout from './Layout.astro';
import '../styles/dashboard.css';

interface Props {
  title: string;
}

const { title } = Astro.props;
const { pathname } = Astro.url;

const navLinks = [
  { href: '/dashboard',              label: 'Dashboard' },
  { href: '/dashboard/bookkeeping',  label: 'Bookkeeping' },
  { href: '/dashboard/reconciliation', label: 'Reconciliation' },
  { href: '/dashboard/reports',      label: 'Reports' },
  { href: '/dashboard/clients',      label: 'Clients' },
  { href: '/dashboard/compliance',   label: 'Compliance' },
  { href: '/dashboard/settings',     label: 'Settings' },
];
---

<Layout title={title} requiresAuth={true}>
  <div class="dashboard-shell">

    <aside class="sidebar">
      <nav aria-label="Dashboard navigation">
        {navLinks.map(({ href, label }) => (
          <a href={href} aria-current={pathname === href ? 'page' : undefined}>
            {label}
          </a>
        ))}
        <hr />
        <a href="/account">My Account</a>
        <a href="/auth/logout">Logout</a>
      </nav>
    </aside>

    <main class="dashboard-content">
      <slot />
    </main>

  </div>
</Layout>
